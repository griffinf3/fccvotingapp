<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <style>
#siteName{
    font-size: 300%;
}
    /* Remove the navbar's default margin-bottom and rounded borders */ 
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
    }
    
    /* Add a gray background color and some padding to the footer */
    footer {
      background-color: #f2f2f2;
      padding: 25px;
    }

* {
    box-sizing: border-box;
}

body {
    margin: 0;
}

/* Style the header */
.header {
    background-color: #f1f1f1;
    padding: 50px;
    text-align: center;
}
      
#optionsList{
    margin-left: 50px;
}

#vote{
    margin-left: 200px;
    margin-bottom: 20px;
    width: 150px;
}

/* Style the footer */
.footer {
    background-color: #f1f1f1;
    padding: 10px;
    text-align: center;
}
</style>
</head>
<body onload="loaded()">

   <nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/">Home</a></li>
        <li><a href="/create">Post</a></li>
        <li><a href="/view">Polls</a></li>
        <li><a href="/edit">Edit</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li> 
            <a href="/signlog"><span class="glyphicon glyphicon-log-in"></span></a></li>
      </ul>
    </div>
  </div>
</nav> 
       
<div class="header">
    <div class="container text-center">
<div id="siteName" style="display: inline">Post-n-Poll</div>
<div style="display: inline">&copy;</div>
</div>
    
    
    <div id="description"><p>A Free Code Camp voting application that allows users to log in, post questions, and solicit and view participant responses...</p></div>
  </div>
<div style="margin:25px;">
 <h2><%= question %></h2>
    <h4>by <%= username %></h4>
</div>
    <form style="margin:25px;" id="votingform" name="form1" action="/voting" method="post">
       <input type="hidden" name="username" value=<%- JSON.stringify(username) %>/>
        <input type="hidden" name="question" value=<%- JSON.stringify(question) %> />
    </form>

<footer class="container-fluid text-center">
          <div id="siteName" style="display: inline; font-size: 10px">'Post-n-Poll' by Franklin Griffin 2017</div>
<div style="display: inline">&copy;</div>
</footer>
<script>   
function loaded()   
 { //var optionlist =  '<%= optionlist %>';
  var optionslist = <%- JSON.stringify(optionslist) %>;
  var label = document.createElement( 'label');
  //-- we iterate over each value and create a input for it and we add the value
   
// var theForm = document.createElement("form");
   //-- we set the forms name
 //  theForm.setAttribute('name','form1');
 var theForm = document.getElementById('votingform');
 var theInput;

 for (var q = 1; q < optionslist.length; q++) { theInput = document.createElement("input");
  theInput.setAttribute('type',"radio"); 
  theInput.setAttribute('name', 'option');
  theInput.setAttribute('value', optionslist[q].option);
  label.appendChild(theInput);
  label.innerHTML += "<span> " + optionslist[q].option + "</span><br>";
     console.log('html'+  optionslist.length);                                          
  theForm.appendChild(label);}
     
  theInput = document.createElement("input"); 
  theInput.setAttribute('id',"vote");
  theInput.setAttribute('type',"submit"); 
  theInput.setAttribute('value', "Vote");
  theForm.appendChild(theInput);
  
  //var question = document.getElementById('votingform');  
  //question.appendChild(theForm);  
    }
 </script>  
</body>
</html>
